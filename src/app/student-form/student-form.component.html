<div class="container">

  <h2 class="title">STUDENT REGISTRATION FORM</h2>

  <form #studentForm="ngForm" (ngSubmit)="onSubmit(studentForm)" novalidate>

    <div class="form-grid">

      <!-- ================= LEFT SIDE ================= -->
      <div class="form-left">

        <!-- Full Name -->
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" name="FullName"  [(ngModel)]="model.FullName"  required pattern="^[A-Za-z ]+$" #FullName="ngModel" />
          <div class="error" *ngIf="FullName.invalid && FullName.touched"> Full Name is required (letters only)</div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label>Email</label>
          <input type="email" name="Email" [(ngModel)]="model.Email" required email #Email="ngModel" />
          <div class="error" *ngIf="Email.invalid && Email.touched"> Enter a valid email address </div>
        </div>

        <!-- Address -->
        <div class="form-group">
          <label>Address</label>
          <input type="text"  name="Address" [(ngModel)]="model.Address" required #Address="ngModel" />
          <div class="error" *ngIf="Address.invalid && Address.touched">Address is required</div>
        </div>

        <!-- File Upload -->
        <div class="form-group">
          <label>Upload Documents</label>
          <input type="file" multiple accept=".pdf,.jpg,.jpeg,.png" (change)="onFileSelected($event)" />
          <small class="hint"> You can upload multiple files (PDF / JPG / PNG)</small>
        </div>
      </div>

      <!-- ================= RIGHT SIDE ================= -->
      <div class="form-right">
        <div class="form-group">
          <label>Phone Number</label>
          <input type="text" name="Phoneno" [(ngModel)]="model.Phoneno" required minlength="10" maxlength="10" pattern="^[0-9]+$" #Phoneno="ngModel" />
          <div class="error" *ngIf="Phoneno.invalid && Phoneno.touched"> Enter a valid 10-digit phone number </div>
        </div>

        <!-- Gender -->
        <div class="form-group">
          <label>Gender</label>
          <select name="Gender" [(ngModel)]="model.Gender" required #Gender="ngModel">
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
          <div class="error" *ngIf="Gender.invalid && Gender.touched"> Gender is required</div>
        </div>

        <!-- Department -->
  <div class="form-group">
          <label>Department</label>
        <select name="Department" [(ngModel)]="model.Department" required #Department="ngModel">
      <option value="">Select Department</option>
        <option *ngFor="let d of departments" [value]="d.DeptID">{{ d.DeptName }}</option>
      </select>
        <div class="error" *ngIf="Department.invalid && Department.touched">Department is required</div>
        </div>

        <!-- Address Proof -->
        <div class="form-group">
          <label>Address Proof</label>

          <div class="checkbox-row">
            <label> <input type="checkbox" value="Aadhaar" [checked]="proofList.includes('Aadhaar')" (change)="toggleProof($event)" /> Aadhaar</label>

            <label>
              <input type="checkbox" value="PAN" [checked]="proofList.includes('PAN')"(change)="toggleProof($event)" /> PAN</label>

            <label>
              <input type="checkbox"value="Voter" [checked]="proofList.includes('Voter')"
                (change)="toggleProof($event)" />
              Voter
            </label>
          </div>
        </div>

      </div>
    </div>

    <!-- ================= BUTTONS ================= -->
    <div class="button-row">
      <button type="submit" class="submit-btn">{{ model.studentID ? 'Update' : 'Submit' }}</button>
      <button type="button" class="reset-btn" (click)="resetForm(studentForm)">Reset</button>
    </div>

  </form>
</div>
